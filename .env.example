# ============================================
# Shopify Analytics Agent - Environment Config
# Copy this to .env and fill in your values
# ============================================
# ⚠️  NEVER commit this file to git!
# ⚠️  Rotate all keys immediately if they were ever exposed.

# --- LLM Provider ---
# Choose: "anthropic" (default) or "openai"
LLM_PROVIDER=anthropic

# --- Anthropic Claude (required if LLM_PROVIDER=anthropic) ---
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# --- OpenAI (required if LLM_PROVIDER=openai) ---
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
# OPENAI_MAX_TOKENS=4000

# --- Telegram Bot ---
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# --- Bot Access Control ---
# Shared passphrase that new users must enter once to unlock the bot.
# Leave empty to allow everyone without verification (dev mode only).
# Example: BOT_ACCESS_CODE=my-secret-phrase-2024
BOT_ACCESS_CODE=



# --- WhatsApp Business API (optional) ---
# Set WHATSAPP_ENABLED=true to start the WhatsApp webhook server alongside Telegram.
WHATSAPP_ENABLED=false
# Provider: "meta" (Meta Cloud API) or "twilio"
WHATSAPP_PROVIDER=meta
# Webhook verification token — choose any strong random string.
WHATSAPP_VERIFY_TOKEN=my_secret_token_5000
# Port for the inbound webhook HTTP server (default: 8080)
WHATSAPP_WEBHOOK_PORT=8080

# Meta Cloud API credentials (required if WHATSAPP_PROVIDER=meta)
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token_here
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id_here
# Meta App Secret — used to verify webhook signatures (HMAC-SHA256).
# Find it in: Meta App Dashboard → Settings → Basic → App Secret
# Leave empty to skip verification (dev mode only — NOT recommended for production).
META_APP_SECRET=

# Twilio credentials (required if WHATSAPP_PROVIDER=twilio)
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# --- Shopify ---
SHOPIFY_ACCESS_TOKEN=your_shopify_access_token
SHOPIFY_SHOP_DOMAIN=your-store.myshopify.com

# --- Security ---
# Encryption key for securing tokens at rest in the database.
# Generate one:  python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=

# Rate limit: max messages per minute per user (default: 10)
RATE_LIMIT_PER_MINUTE=10

# --- Timezone ---
# Default: Asia/Kolkata (IST). All dates and timestamps use this timezone.
TIMEZONE=Asia/Kolkata

# --- Admin Dashboard (optional) ---
# Set ADMIN_DASHBOARD_ENABLED=true to start the web dashboard alongside the bot.
ADMIN_DASHBOARD_ENABLED=false
# Port for the admin dashboard HTTP server (default: 8501)
ADMIN_DASHBOARD_PORT=8501
# JWT secret key — use a strong random string in production.
# Generate one:  python -c "import secrets; print(secrets.token_hex(32))"
ADMIN_JWT_SECRET=change-me-in-production
# Default admin credentials (used to seed the first admin user on startup).
# The default account is flagged with must_change_password=true.
ADMIN_DEFAULT_USERNAME=admin
ADMIN_DEFAULT_PASSWORD=admin123

# --- Database ---
DATABASE_URL=sqlite:///data/shopify_agent.db

# --- Logging ---
LOG_LEVEL=INFO
LOG_FILE=logs/agent.log
